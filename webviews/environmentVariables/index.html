<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>環境変数管理 - AppGenius</title>
  <link href="{{reset.css}}" rel="stylesheet">
  <link href="{{vscode.css}}" rel="stylesheet">
  <link href="{{style.css}}" rel="stylesheet">
</head>
<body>
  <!-- アクセシビリティ用スキップナビゲーション -->
  <a href="#main-content" class="skip-link">メインコンテンツにスキップ</a>
  
  <div class="container">
    <header class="header" role="banner">
      <h1>環境変数管理</h1>
      <div class="progress-indicator" aria-live="polite">
        <div class="progress-text">進捗: <span id="progress-value">0/0</span></div>
        <div class="progress-bar">
          <div class="progress-value" style="width: 0%" aria-hidden="true"></div>
        </div>
      </div>
    </header>
    
    <div id="main-content" class="main-content" role="main">
      <div class="env-file-selector">
        <div class="section-header">
          <h2 id="env-files-heading">環境変数ファイル</h2>
          <button id="create-env-file" class="app-button app-button-secondary" aria-label="新しい環境変数ファイルを作成">新規作成</button>
        </div>
        <div class="env-files-list" id="env-files-container" role="list" aria-labelledby="env-files-heading">
          <div class="loading" aria-live="polite">ファイルを読み込み中...</div>
        </div>
      </div>
      
      <div class="env-variables">
        <div class="section-header">
          <h2 id="env-variables-heading">環境変数 <span id="current-env-file"></span></h2>
          <div class="action-buttons">
            <button id="import-variables" class="app-button app-button-secondary" aria-label="環境変数をインポート">インポート</button>
            <button id="export-variables" class="app-button app-button-secondary" aria-label="環境変数をエクスポート">エクスポート</button>
            <button id="detect-variables" class="app-button app-button-secondary" aria-label="プロジェクト内の環境変数を自動検出">変数検出</button>
          </div>
        </div>
        <div id="env-variables-container" class="env-variables-list" role="list" aria-labelledby="env-variables-heading">
          <div class="loading" aria-live="polite">環境変数を読み込み中...</div>
        </div>
      </div>
      
      <div class="env-groups">
        <div class="section-header">
          <h2 id="env-groups-heading">変数グループ</h2>
        </div>
        <div id="env-groups-container" class="env-groups-list" role="tablist" aria-labelledby="env-groups-heading">
          <div class="env-group" data-group-id="database" role="tab" tabindex="0" aria-selected="false" aria-controls="env-variables-container">
            <h3>データベース</h3>
            <div class="group-status" aria-live="polite">0/0 設定済み</div>
          </div>
          <div class="env-group" data-group-id="api" role="tab" tabindex="0" aria-selected="false" aria-controls="env-variables-container">
            <h3>API連携</h3>
            <div class="group-status" aria-live="polite">0/0 設定済み</div>
          </div>
          <div class="env-group" data-group-id="security" role="tab" tabindex="0" aria-selected="false" aria-controls="env-variables-container">
            <h3>セキュリティ</h3>
            <div class="group-status" aria-live="polite">0/0 設定済み</div>
          </div>
          <div class="env-group" data-group-id="server" role="tab" tabindex="0" aria-selected="false" aria-controls="env-variables-container">
            <h3>サーバー</h3>
            <div class="group-status" aria-live="polite">0/0 設定済み</div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="footer" role="contentinfo">
      <div class="connection-test">
        <button id="test-database" class="app-button app-button-primary" aria-label="データベース接続をテスト">データベース接続テスト</button>
        <button id="test-api" class="app-button app-button-primary" aria-label="API接続をテスト">API接続テスト</button>
      </div>
      <button id="save-all-variables" class="app-button app-button-success" aria-label="すべての環境変数を保存">すべて保存</button>
      <button id="update-env-md" class="app-button app-button-primary" aria-label="環境変数のドキュメントを更新">env.mdを更新</button>
    </div>
  </div>
  
  <!-- アクセシビリティ用通知領域 -->
  <div aria-live="assertive" id="notification-area" class="sr-only"></div>
  
  <script src="{{script.js}}"></script>
</body>
</html>