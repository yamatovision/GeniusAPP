# プロジェクト名 - 実装状況 (YYYY/MM/DD更新)

## 関連ドキュメント参照
- [ディレクトリ構造](./structure.md) - プロジェクト全体のファイル構造と命名規則
- [データモデル](./data_models.md) - エンティティ一覧と関係性
- [API設計](./api.md) - エンドポイントとデータフロー
- [環境変数リスト](./env.md) - 必要な環境変数と設定方法
- [デプロイ情報](./deploy.md) - デプロイ手順と環境設定

## 認証システム設計原則
本プロジェクトでは以下の設計原則に基づく認証アーキテクチャを採用しています:

### 1. レイヤー分離アーキテクチャ
- **Controller層**: リクエスト/レスポンス処理、入力検証、HTTPステータス管理
- **Service層**: ビジネスロジック、トークン生成/検証、ユーザー操作
- **Data Access層**: データベース操作、モデル定義
- **Middleware層**: リクエスト認証、権限検証
- **Client層**: 状態管理、トークン保存、UI連携

### 2. 単一責任の原則
- 各ファイルは単一の機能領域に責任を持つ
- 各メソッドは明確に定義された1つのタスクを実行
- 認証ロジックとビジネスロジックを厳密に分離

### 3. JWTベースの認証フロー
- アクセストークン（短期）とリフレッシュトークン（長期）の分離
- APIリクエストには常にアクセストークンのみを使用
- 期限切れ時の透過的なトークンリフレッシュ機構
- セキュアなトークン保存と管理

### 4. ユーザー関連操作の標準化
- 登録→確認→ログイン→リフレッシュの一貫したフロー
- パスワードリセット、プロフィール更新、アカウント削除の安全なハンドリング
- 権限とロールベースのアクセス制御

### 5. エラーハンドリングの一貫性
- 明確なエラータイプと標準化されたレスポンス形式
- セキュリティを考慮した詳細度調整
- 適切なHTTPステータスコードの使用

## 全体進捗
- 完成予定ファイル数: [数値]
- 作成済みファイル数: [数値]
- 進捗率: [パーセント]%
- 最終更新日: YYYY/MM/DD

## スコープ状況

### 完了済みスコープ
- [x] スコープ1 (100%)
- [x] スコープ2 (100%)

### 進行中スコープ
- [ ] スコープ3 ([進捗率]%)

### 未着手スコープ
- [ ] スコープ4 (0%)
- [ ] スコープ5 (0%)

## 現在のディレクトリ構造
```
project-root/
├── frontend/
│   ├── src/
│   │   ├── components/
│   │   │   ├── common/
│   │   │   │   └── [共通コンポーネント].jsx
│   │   │   └── [ページ名]/
│   │   │       └── [コンポーネント名].jsx
│   │   ├── pages/
│   │   └── services/
│   └── public/
│       └── assets/
└── backend/
    ├── src/
    │   ├── features/
    │   │   ├── auth/
    │   │   │   ├── auth.controller.js
    │   │   │   ├── auth.model.js
    │   │   │   └── auth.routes.js
    │   │   └── users/
    │   │       ├── users.controller.js
    │   │       ├── users.model.js
    │   │       └── users.routes.js
    │   ├── middleware/
    │   ├── utils/
    │   └── config/
```

## 実装完了ファイル
- ✅ [ファイルパス1] (スコープ1)
- ✅ [ファイルパス2] (スコープ1)
- ✅ [ファイルパス3] (スコープ2)

## 実装中ファイル
- ⏳ [ファイルパス4] (スコープ3)

## 引継ぎ情報

### 現在のスコープ: スコープ3
**スコープID**: [スコープID]  
**説明**: [スコープの説明]  

**含まれる機能**:
1. [機能1]
2. [機能2]
3. [機能3]

**実装すべきファイル**: 
- [x] [ファイルパス1]
- [x] [ファイルパス2]
- [ ] [ファイルパス3]

## 次回実装予定

### 次のスコープ: スコープ4
**スコープID**: [スコープID]  
**説明**: [スコープの説明]  

**含まれる機能**:
1. [機能1]
2. [機能2]
3. [機能3]

**依存するスコープ**:
- スコープ1
- スコープ3

**実装予定ファイル**:
- [ ] [ファイルパス1]
- [ ] [ファイルパス2]
- [ ] [ファイルパス3]

## 環境変数設定状況

### データベース設定
- [ ] DB_HOST - データベースホスト名
- [ ] DB_PORT - データベースポート
- [ ] DB_NAME - データベース名
- [ ] DB_USER - データベースユーザー名
- [ ] DB_PASSWORD - データベースパスワード

### API設定
- [ ] API_BASE_URL - API基本URL
- [ ] API_KEY - APIキー
- [ ] API_VERSION - APIバージョン

### サーバー設定
- [x] PORT - アプリケーションポート
- [x] NODE_ENV - 実行環境（development/production/test）

### 認証設定
- [!] JWT_SECRET - JWT認証用シークレットキー（使用確認済み、設定要）
- [ ] SESSION_SECRET - セッション用シークレットキー

### スコープ別必要環境変数

#### スコープ1: [スコープ名]
必要な環境変数:
- [x] [環境変数名] - [説明]
- [x] [環境変数名] - [説明]

#### スコープ3: [スコープ名] (現在進行中)
必要な環境変数:
- [!] [環境変数名] - [説明] (使用確認済み、仮の値で実装中)
- [ ] [環境変数名] - [説明]

### 次のスコープ: スコープ4: [スコープ名]
**説明**: [スコープの説明]

**含まれる機能**:
1. [機能1]
2. [機能2]
3. [機能3]

**依存するスコープ**:
- スコープ1: [スコープ名]
- スコープ3: [スコープ名]

**実装予定ファイル**:
- [ ] [ファイルパス1]
- [ ] [ファイルパス2]
- [ ] [ファイルパス3]

## モックデータ使用箇所

### [機能名]モック
**モックファイル**: [モックデータファイルパス]  
**使用コンポーネント**: 
- [使用しているコンポーネントパス1]
- [使用しているコンポーネントパス2]

**対応予定API**: [APIエンドポイント]  
**優先度**: [高/中/低]  
**移行予定スコープ**: [スコープID]

### [機能名]モック
**モックファイル**: [モックデータファイルパス]  
**使用コンポーネント**: 
- [使用しているコンポーネントパス1]
- [使用しているコンポーネントパス2]

**対応予定API**: [APIエンドポイント]  
**優先度**: [高/中/低]  
**移行予定スコープ**: [スコープID]

## データモデル使用状況

### データモデル管理ポリシー

- **正式な定義元**: shared/models/*.ts ファイルが唯一の真実源（Single Source of Truth）
- **ドキュメント同期**: data_models.md はTypeScript実装と同期されるべき
- **変更手順**: 
  1. 機能要件に基づきモデル設計
  2. TypeScriptモデル実装
  3. data_models.md更新 
  4. CURRENT_STATUS.md更新
- **レビュー**: モデル変更はスコープ管理者によるレビューが必要

### スコープ別データモデル使用状況

各スコープで使用するデータモデルは以下の通りです：

#### スコープ1: [スコープ名]
使用モデル:
- [モデル名1]: [用途] - [読み取り/書き込み]
- [モデル名2]: [用途] - [読み取り/書き込み]

#### スコープ3: [スコープ名] (現在進行中)
使用モデル:
- [モデル名1]: [用途] - [読み取り/書き込み]
- [モデル名3]: [用途] - [読み取り/書き込み]

## 発生した問題と解決策

### 問題1: [問題のタイトル]
**状況**: [問題の詳細な説明]  
**原因**: [特定された原因]  
**解決策**: [採用した解決策]  
**学んだこと**: [この問題から得た教訓]

  