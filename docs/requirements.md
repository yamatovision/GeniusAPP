AppGenius VSCode 拡張機能要件定義書
1. 概要
AppGenius VSCode拡張は、非技術者がClaudeCodeを活用してアプリケーション開発を行えるようにするツールです。CLAUDE.mdファイルを中心とした設計情報管理と、ClaudeCodeとVSCodeの連携により、効率的な開発体験を提供します。

1.1. 要件定義書の細分化
- 各セクションの役割と内容を明確に定義
- 具体的なユースケースとユーザーストーリーを提供
- 非技術者が理解しやすい用語と説明を使用

1.2. CLAUDE.mdと各ドキュメントファイルの連携フロー
- CLAUDE.mdをプロジェクト情報の中央リポジトリとして位置づけ
- 各ドキュメントファイル(requirements.md, structure.md等)との双方向連携
- 変更の自動同期と履歴管理機能

1.3. VSCode拡張とCLI連携ポイント
- VSCodeでの設計作業とCLIでの実装作業の明確な役割分担
- 共通のデータモデルによる一貫した情報共有
- リアルタイム進捗状況の可視化と同期機能

2. 目的
- 非技術者がAIを使って開発できる環境を提供する
- ClaudeCodeの強力な機能をVSCode上で活用可能にする
- 開発プロセスを視覚的に管理・追跡できるようにする
- ファイル自動生成などの効率化機能を提供する

3. ユーザー層
- プログラミング経験の少ないビジネスユーザー
- AIを活用した開発に興味のある個人開発者
- 少人数チームの開発者・プロジェクトマネージャー

4. 開発プロセスとサポート機能
4.1 要件定義フェーズ
- CLAUDE.md要件エディタ
- 構造化されたマークダウン形式の要件定義テンプレート
- 要件のカテゴリ分類と優先度付け機能
- ClaudeCodeに要件の明確化・改善を依頼する機能

4.2 モックアップフェーズ
- モックアップギャラリー
- ClaudeCodeで生成したモックアップ画像の管理
- モックアップの注釈付け機能
- モックアップをCLAUDE.mdに自動保存する機能

4.3 ディレクトリ構造設計フェーズ
- ディレクトリビジュアライザ
- ツリー形式でのディレクトリ構造設計
- フロントエンド/バックエンドの構造テンプレート
- ClaudeCodeによる構造提案・最適化

4.4 実装フェーズ
- スコープマネージャー
- 実装するページ/機能の選択と進捗管理
- CLAUDE.mdへの実装スコープ記録
- ClaudeCodeによる実装支援
- ファイル自動生成
- ClaudeCodeの出力からファイルパスパターン検出
- パターンに基づく自動ファイル生成
- 生成ファイルの自動オープンとハイライト

4.5 開発アシスタント
- スコープを実装していく
- 実装進捗の可視化と管理
- コード生成サポート機能

4.6 デバッグアシスタント
- デバッグを効率的に行うツール
- エラー解析と解決策提案
- デバッグログの整理と表示

4.7 API管理アシスタント
- API設計と管理機能
- エンドポイント定義と文書化
- APIテスト支援機能

4.8 デバッグフェーズ
- エラー解析アシスタント
- エラーログの自動要約・整形機能
- ClaudeCodeへのエラー情報転送
- 解決策の視覚的表示

4.9 デプロイフェーズ
- デプロイチェックリスト
- デプロイ前確認項目の自動チェック
- GitHub連携（コミット、プッシュ）
- デプロイ状況の視覚的表示

5. 主要コンポーネント
5.1 CLAUDE.md管理システム
- CLAUDE.mdの自動構造化・フォーマット機能
- セクション単位での編集・更新機能
- カテゴリ別表示・編集機能

5.2 ClaudeCode連携モジュール
- ClaudeCodeへの入力転送システム
- 出力の取得と処理
- APIキープロキシシステム（御社APIキーの共有）

5.3 VSCodeインターフェース
- サイドパネル（プロジェクト進捗表示）
- エディタ拡張（専用コマンド、ショートカット）
- ウェブビューパネル（AIとの対話、モックアップ表示）

5.4 ファイル生成エンジン
- パターン検出（例: "9. src/modules/auth/service.js"）
- ディレクトリ自動作成
- テンプレート適用

6. UIUX設計
6.1 ダッシュボード画面
- プロジェクト全体の進捗状況表示
- 現在のステップと次のアクション表示
- CLAUDE.mdの主要セクションへのクイックアクセス

6.2 CLAUDE.mdエディタ
- セクション分割表示
- リッチテキスト編集機能
- リアルタイムプレビュー

6.3 AIアシスタントパネル
- ClaudeCodeとの会話インターフェース
- コンテキスト対応プロンプトテンプレート
- コード・ファイル出力の自動検出

6.4 プロジェクトナビゲーター
- 開発ステップ間の移動
- ステップ完了チェックリスト
- 次のアクションのガイダンス

7. CLAUDE.md構造
# プロジェクト情報
- 名前: [プロジェクト名]
- 作成日: [日付]
- 目的: [簡潔な説明]

## 要件定義
- 機能要件:
  1. [機能1]
  2. [機能2]
- 非機能要件:
  1. [要件1]
  2. [要件2]

## モックアップ
- [画面名]:
  - 説明: [説明文]
  - 画像リンク: [リンク]

## ディレクトリ構造
project/
├── frontend/
│   ├── pages/
│   ├── components/
├── backend/
│   ├── routes/
│   ├── controllers/
│   ├── services/

## 実装スコープ
- 完了:
  - [機能A]
  - [機能B]
- 進行中:
  - [機能C]
- 未着手:
  - [機能D]
  - [機能E]

## API定義
- [エンドポイント名]:
  - メソッド: [GET/POST/etc]
  - パラメータ: [パラメータ一覧]
  - レスポンス: [レスポンス形式]

8. 実装フェーズと優先順位
フェーズ1: 基盤構築
- CLAUDE.md管理システム
- 基本UIレイアウト
- ClaudeCode基本連携

フェーズ2: 核機能実装
- 要件定義エディタ
- ファイル自動生成
- ディレクトリビジュアライザ

フェーズ3: 拡張機能
- エラー解析アシスタント
- APIキープロキシシステム
- モックアップギャラリー

9. 技術要件
- React+TypeScriptでのUI実装
- Node.jsバックエンドでAPIキープロキシ実装
- VSCode APIを利用したエディタ拡張
- ClaudeCode API連携

10. 想定ユーザーワークフロー
1. VSCode内でプロジェクトを作成/開く
2. AppGeniusダッシュボードで開発ステップを確認
3. CLAUDE.mdで要件定義を記入（AIによる支援）
4. モックアップを作成/インポート
5. ディレクトリ構造を設計
6. 実装スコープを選択して開発開始
7. AIに指示→自動ファイル生成→確認のサイクルで開発
8. エラー発生時はアシスタントでデバッグ支援
9. デプロイと次スコープへ

11. 非技術者向け開発プロセス
11.1 初期設定と環境構築
- ワンクリックセットアップ（VSCode、必要な拡張機能、ClaudeCode）
- プロジェクトテンプレート選択（Webアプリ、モバイルアプリ等）
- 開発環境自動構成機能

11.2 AIガイド付き開発フロー
- Step#1：要件定義をAIサポートで作成
- Step#2：AIによるモックアップ生成と編集
- Step#3：ディレクトリ構造をAIが提案・最適化
- Step#4：スコープ単位の実装（1ページ/1機能ずつ）
- Step#5：環境変数・API連携のガイド付き設定
- Step#6：デバッグ支援（エラー解析と修正提案）
- Step#7：フロントエンド・バックエンド連携サポート
- Step#8：デプロイと自動CI/CD設定
- Step#9：次のスコープへ循環

11.3 VSCodeとClaudeCodeの統合ポイント
- VSCode：CLAUDE.mdの構造化された作成・編集環境
- ClaudeCode：実装作業の中心的ツール
- CLAUDE.md：両者を連携する共通情報源

以上の要件定義に基づき、非技術者でも直感的に使える開発環境を提供し、ClaudeCodeの強力な機能を最大限に活用できるVSCode拡張機能を開発します。